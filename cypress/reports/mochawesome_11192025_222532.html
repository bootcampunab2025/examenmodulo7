<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1,&quot;passes&quot;:0,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2025-11-20T01:25:23.192Z&quot;,&quot;end&quot;:&quot;2025-11-20T01:25:32.437Z&quot;,&quot;duration&quot;:9245,&quot;testsRegistered&quot;:7,&quot;passPercent&quot;:0,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:6,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;085c92a2-a8cc-4bf0-9614-074c47a5a1c5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\delete-course.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\delete-course.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;title&quot;:&quot;Delete Course Functionality&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should display courses in admin table&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should display courses in admin table&quot;,&quot;duration&quot;:8732,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Verificar que la tabla de cursos se muestre\ncy.get(&#x27;table&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(mockCourse.nombre).should(&#x27;be.visible&#x27;);\ncy.contains(mockCourse.codigo).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: Timed out retrying after 5000ms: `cy.wait()` timed out waiting `5000ms` for the 1st request to the route: `getCourses`. No request ever occurred.\n\nhttps://on.cypress.io/wait\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Delete Course Functionality`&quot;,&quot;estack&quot;:&quot;CypressError: Timed out retrying after 5000ms: `cy.wait()` timed out waiting `5000ms` for the 1st request to the route: `getCourses`. No request ever occurred.\n\nhttps://on.cypress.io/wait\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Delete Course Functionality`\n    at cypressErr (http://localhost:5173/__cypress/runner/cypress_runner.js:77776:18)\n    at Object.errByPath (http://localhost:5173/__cypress/runner/cypress_runner.js:77844:10)\n    at checkForXhr (http://localhost:5173/__cypress/runner/cypress_runner.js:138095:84)\n    at &lt;unknown&gt; (http://localhost:5173/__cypress/runner/cypress_runner.js:138120:28)\n    at tryCatcher (http://localhost:5173/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:5173/__cypress/runner/cypress_runner.js:4285:29)\n    at whenStable (http://localhost:5173/__cypress/runner/cypress_runner.js:151159:68)\n    at &lt;unknown&gt; (http://localhost:5173/__cypress/runner/cypress_runner.js:151100:14)\n    at tryCatcher (http://localhost:5173/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:5173/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:5173/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:5173/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:5173/__cypress/runner/cypress_runner.js:1671:18)\n    at Promise._fulfill (http://localhost:5173/__cypress/runner/cypress_runner.js:1615:18)\n    at &lt;unknown&gt; (http://localhost:5173/__cypress/runner/cypress_runner.js:5420:46)\nFrom Your Spec Code:\n    at Context.eval (webpack://vue-firebase/./cypress/e2e/delete-course.cy.js:51:7)&quot;},&quot;uuid&quot;:&quot;eeb71b1b-54f2-4c42-ba2b-1c8a88285623&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should show delete confirmation modal&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should show delete confirmation modal&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Hacer clic en el botón de eliminar\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\n// Verificar que se muestre el modal de confirmación\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;¿Realmente deseas eliminar&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(mockCourse.nombre).should(&#x27;be.visible&#x27;);\n// Verificar que los botones estén presentes\ncy.get(&#x27;[data-cy=\&quot;cancel-delete-btn\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36a92d77-426e-446b-b12d-970fed5c8ceb&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should cancel delete operation&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should cancel delete operation&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Abrir modal de confirmación\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\n// Cancelar la eliminación\ncy.get(&#x27;[data-cy=\&quot;cancel-delete-btn\&quot;]&#x27;).click();\n// Verificar que el modal se cierre\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;not.exist&#x27;);\n// Verificar que el curso siga en la tabla\ncy.contains(mockCourse.nombre).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53d3a32e-1225-4bae-b98c-8699b04552d2&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should delete course successfully&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should delete course successfully&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Interceptar la llamada de eliminación\ncy.intercept(&#x27;DELETE&#x27;, `**/firestore.googleapis.com/**/courses/${mockCourse.id}`, {\n  statusCode: 200,\n  body: {}\n}).as(&#x27;deleteCourse&#x27;);\n// Interceptar la llamada para obtener cursos actualizados (sin el curso eliminado)\ncy.intercept(&#x27;GET&#x27;, &#x27;**/firestore.googleapis.com/**&#x27;, {\n  statusCode: 200,\n  body: {\n    documents: [] // Lista vacía después de eliminar\n  }\n}).as(&#x27;getCoursesAfterDelete&#x27;);\n// Abrir modal de confirmación\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\n// Confirmar la eliminación\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).click();\n// Esperar la llamada de eliminación\ncy.wait(&#x27;@deleteCourse&#x27;);\n// Verificar que el modal se cierre\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;not.exist&#x27;);\n// Verificar que el curso ya no esté en la tabla\ncy.contains(mockCourse.nombre).should(&#x27;not.exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78c952ec-84ce-4042-acb4-38ebac92db1a&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should handle delete error gracefully&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should handle delete error gracefully&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Interceptar la llamada de eliminación con error\ncy.intercept(&#x27;DELETE&#x27;, `**/firestore.googleapis.com/**/courses/${mockCourse.id}`, {\n  statusCode: 500,\n  body: {\n    error: &#x27;Internal Server Error&#x27;\n  }\n}).as(&#x27;deleteCourseFail&#x27;);\n// Abrir modal de confirmación\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-modal\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\n// Confirmar la eliminación\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).click();\n// Esperar la llamada fallida\ncy.wait(&#x27;@deleteCourseFail&#x27;);\n// Verificar que se muestre un mensaje de error\ncy.get(&#x27;.alert-danger&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;Error&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abe7dfad-1de0-4b1b-8bd2-7335e8167f0b&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should disable delete button while loading&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should disable delete button while loading&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Interceptar con delay para simular carga\ncy.intercept(&#x27;DELETE&#x27;, `**/firestore.googleapis.com/**/courses/${mockCourse.id}`, req =&gt; {\n  req.reply(res =&gt; {\n    // Delay de 2 segundos\n    return new Promise(resolve =&gt; {\n      setTimeout(() =&gt; resolve(res.send({\n        statusCode: 200\n      })), 2000);\n    });\n  });\n}).as(&#x27;deleteCourseSlow&#x27;);\n// Abrir modal y confirmar eliminación\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).click();\n// Verificar que el botón se deshabilite durante la carga\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).should(&#x27;be.disabled&#x27;);\ncy.get(&#x27;.spinner-border&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;252b2528-b23e-47e0-954d-080164dad63e&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should update UI immediately after successful delete&quot;,&quot;fullTitle&quot;:&quot;Delete Course Functionality should update UI immediately after successful delete&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Simular múltiples cursos\nconst multipleCourses = [mockCourse, _objectSpread(_objectSpread({}, mockCourse), {}, {\n  id: &#x27;mock-course-id-2&#x27;,\n  codigo: &#x27;0002&#x27;,\n  nombre: &#x27;CSS Test Course&#x27;\n})];\ncy.intercept(&#x27;GET&#x27;, &#x27;**/firestore.googleapis.com/**&#x27;, {\n  statusCode: 200,\n  body: {\n    documents: multipleCourses.map(course =&gt; ({\n      name: `courses/${course.id}`,\n      fields: {\n        codigo: {\n          stringValue: course.codigo\n        },\n        nombre: {\n          stringValue: course.nombre\n        },\n        descripcion: {\n          stringValue: course.descripcion\n        },\n        precio: {\n          integerValue: course.precio\n        },\n        duracion: {\n          stringValue: course.duracion\n        },\n        cupos: {\n          integerValue: course.cupos\n        },\n        inscritos: {\n          integerValue: course.inscritos\n        },\n        estado: {\n          booleanValue: course.estado\n        },\n        img: {\n          stringValue: course.img\n        }\n      }\n    }))\n  }\n});\ncy.visit(&#x27;/admin&#x27;);\n// Verificar que ambos cursos estén presentes\ncy.contains(&#x27;HTML Test Course&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;CSS Test Course&#x27;).should(&#x27;be.visible&#x27;);\n// Interceptar eliminación exitosa\ncy.intercept(&#x27;DELETE&#x27;, `**/firestore.googleapis.com/**/courses/${mockCourse.id}`, {\n  statusCode: 200\n}).as(&#x27;deleteCourse&#x27;);\n// Interceptar actualización de lista sin el curso eliminado\ncy.intercept(&#x27;GET&#x27;, &#x27;**/firestore.googleapis.com/**&#x27;, {\n  statusCode: 200,\n  body: {\n    documents: [{\n      name: `courses/mock-course-id-2`,\n      fields: {\n        codigo: {\n          stringValue: &#x27;0002&#x27;\n        },\n        nombre: {\n          stringValue: &#x27;CSS Test Course&#x27;\n        },\n        descripcion: {\n          stringValue: &#x27;Test course description&#x27;\n        },\n        precio: {\n          integerValue: 20000\n        },\n        duracion: {\n          stringValue: &#x27;1 mes&#x27;\n        },\n        cupos: {\n          integerValue: 20\n        },\n        inscritos: {\n          integerValue: 0\n        },\n        estado: {\n          booleanValue: true\n        },\n        img: {\n          stringValue: &#x27;https://example.com/css.png&#x27;\n        }\n      }\n    }]\n  }\n}).as(&#x27;getUpdatedCourses&#x27;);\n// Eliminar el primer curso\ncy.get(&#x27;[data-cy=\&quot;delete-course-btn\&quot;]&#x27;).first().click();\ncy.get(&#x27;[data-cy=\&quot;confirm-delete-btn\&quot;]&#x27;).click();\ncy.wait(&#x27;@deleteCourse&#x27;);\n// Verificar actualización de UI\ncy.contains(&#x27;HTML Test Course&#x27;).should(&#x27;not.exist&#x27;);\ncy.contains(&#x27;CSS Test Course&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2499dc88-1ddc-4007-a578-4a106a5dc3fb&quot;,&quot;parentUUID&quot;:&quot;aa9461b1-337c-4227-928b-e725c98e4cc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;eeb71b1b-54f2-4c42-ba2b-1c8a88285623&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;36a92d77-426e-446b-b12d-970fed5c8ceb&quot;,&quot;53d3a32e-1225-4bae-b98c-8699b04552d2&quot;,&quot;78c952ec-84ce-4042-acb4-38ebac92db1a&quot;,&quot;abe7dfad-1de0-4b1b-8bd2-7335e8167f0b&quot;,&quot;252b2528-b23e-47e0-954d-080164dad63e&quot;,&quot;2499dc88-1ddc-4007-a578-4a106a5dc3fb&quot;],&quot;duration&quot;:8732,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;cypress/reports&quot;,&quot;overwrite&quot;:false,&quot;html&quot;:true,&quot;json&quot;:true,&quot;timestamp&quot;:&quot;mmddyyyy_HHMMss&quot;},&quot;version&quot;:&quot;6.3.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;cypress/reports&quot;,&quot;reportTitle&quot;:&quot;examenmodulo7&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:&quot;mmddyyyy_HHMMss&quot;,&quot;ts&quot;:&quot;mmddyyyy_HHMMss&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;cypress\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\web\\examenmodulo7\\cypress\\reports\\mochawesome_11192025_222532.json&quot;,&quot;htmlFile&quot;:&quot;C:\\web\\examenmodulo7\\cypress\\reports\\mochawesome_11192025_222532.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>