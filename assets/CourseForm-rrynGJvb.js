import{c as i,G as R,ac as J,ad as Q,d as A,N as P,u as G,O as X,ae as Y,P as j,J as ee,a1 as ae,af as te,ag as W,ah as oe,ai as le,e as $,o as y,w as r,C as ue,s as q,v as T,l as V,m as E,g as t,aj as se,A as H,r as z,M as re,n as ne,V as L,p as de,ak as ie,al as O,i as U,t as D,h as K,H as pe,am as me,j as ce,k as B,f as u}from"./index-CRZrPRAq.js";import{u as fe,n as ve,f as be,e as he,d as ge,a as _e,_ as Be,c as ye}from"./BFormInput.vue_vue_type_script_setup_true_lang-B9E5yJEs-D2xcDSvY.js";import{_ as Ce}from"./courses-G8dxDpfp.js";const xe=l=>i(()=>{const e=R(l);return{"form-check":e.plain===!1&&e.button===!1&&e.hasDefaultSlot,"form-check-reverse":e.reverse===!0,"form-check-inline":e.inline===!0,"form-switch":e.switch===!0,[`form-control-${e.size}`]:e.size!==void 0&&e.size!=="md"&&e.button===!1}}),Fe=l=>{const e=J(Q(l)),o=fe(()=>e.value.state??null);return i(()=>[o.value,{"form-check-input":e.value.plain===!1&&e.value.button===!1,"btn-check":e.value.button===!0}])},we=l=>i(()=>{const e=R(l);return{"form-check-label":e.plain===!1&&e.button===!1,btn:e.button===!0,[`btn-${e.buttonVariant}`]:e.button===!0&&e.buttonVariant!==void 0&&e.buttonVariant!==null,[`btn-${e.size}`]:e.button&&e.size&&e.size!=="md"}}),Ie=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","true-value","false-value","indeterminate"],ke=["for"],Ve=A({inheritAttrs:!1,__name:"BFormCheckbox",props:P({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},autofocus:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonGroup:{type:Boolean,default:!1},buttonVariant:{default:null},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},inline:{type:Boolean,default:!1},name:{default:void 0},plain:{type:Boolean,default:!1},required:{type:Boolean,default:void 0},reverse:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null},switch:{type:Boolean,default:!1},uncheckedValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:!1},wrapperAttrs:{default:void 0},inputClass:{default:void 0},value:{type:[String,Boolean,Array,Set,Object,Number,null],default:!0}},{modelValue:{type:[Array,Set,String,Boolean,Object,Number,null],default:void 0},modelModifiers:{},indeterminate:{type:Boolean,default:!1},indeterminateModifiers:{}}),emits:["update:modelValue","update:indeterminate"],setup(l,{expose:e}){const a=G(l,"BFormCheckbox"),c=X(),p=Y(),m=j(l,"modelValue"),d=j(l,"indeterminate"),f=i(()=>{const{class:b,...M}=p;return{wrapperClass:b,inputAttrs:M}}),_=ee(()=>a.id,"form-check"),n=ae(te,null),C=W("_input"),{focused:v}=oe(C,{initialValue:a.autofocus}),h=i(()=>!le(c.default)),x=i({get:()=>n?n.modelValue.value:m.value,set:b=>{if(b!==void 0){if(d.value=!1,n!==null&&Array.isArray(b)){n.modelValue.value=b;return}m.value=b}}}),s=i(()=>!!(a.name??n?.name.value)&&(a.required||n?.required.value)),I=i(()=>a.buttonGroup||(n?.buttons.value??!1)),F=i(()=>({plain:a.plain||(n?.plain.value??!1),button:a.button||(n?.buttons.value??!1),inline:a.inline||(n?.inline.value??!1),reverse:a.reverse||(n?.reverse.value??!1),switch:a.switch||(n?.switch.value??!1),state:a.state===!0||a.state===!1?a.state:n?.state.value??null,size:a.size??n?.size.value??"md",buttonVariant:a.buttonVariant??n?.buttonVariant.value??"secondary",hasDefaultSlot:h.value})),w=xe(F),N=i(()=>[w.value,f.value.wrapperClass]),S=Fe(F),k=i(()=>[S.value,a.inputClass]),g=we(F);return e({blur:()=>{v.value=!1},element:C,focus:()=>{v.value=!0}}),(b,M)=>(y(),$(Ce,E({skip:I.value},t(a).wrapperAttrs,{class:N.value}),{default:r(()=>[ue(V("input",E({id:t(_),ref:"_input","onUpdate:modelValue":M[0]||(M[0]=Z=>x.value=Z),class:k.value,type:"checkbox",disabled:t(a).disabled||t(n)?.disabled.value,required:s.value||void 0,name:t(a).name||t(n)?.name.value,form:t(a).form||t(n)?.form.value,"aria-label":t(a).ariaLabel,"aria-labelledby":t(a).ariaLabelledby,"aria-required":s.value||void 0,value:t(a).value,"true-value":t(a).value,"false-value":t(a).uncheckedValue,indeterminate:d.value||void 0},f.value.inputAttrs),null,16,Ie),[[se,x.value]]),h.value||t(a).plain===!1?(y(),q("label",{key:0,for:t(_),class:H(t(g))},[z(b.$slots,"default")],10,ke)):T("",!0)]),_:3},16,["skip","class"]))}}),Ne=(l,{maxRows:e,noAutoShrink:o,rows:a})=>{const c=ne(0),p=L(i(()=>R(e)||NaN),{method:"parseInt",nanToZero:!0}),m=L(a,{method:"parseInt",nanToZero:!0}),d=i(()=>Math.max(m.value||2,2)),f=i(()=>Math.max(d.value,p.value||0)),_=i(()=>d.value===f.value?d.value:null),n=async()=>{if(!l.value||!ie(l.value)){c.value=null;return}const v=getComputedStyle(l.value),h=Number.parseFloat(v.lineHeight)||1,x=(Number.parseFloat(v.borderTopWidth)||0)+(Number.parseFloat(v.borderBottomWidth)||0),s=(Number.parseFloat(v.paddingTop)||0)+(Number.parseFloat(v.paddingBottom)||0),I=x+s,F=h*d.value+I,w=l.value.style.height||v.height;c.value="auto",await O();const{scrollHeight:N}=l.value;c.value=w,await O();const S=Math.max((N-s)/h,2),k=Math.min(Math.max(S,d.value),f.value),g=Math.max(Math.ceil(k*h+I),F);if(R(o)&&(Number.parseFloat(w.toString())||0)>g){c.value=w;return}c.value=`${g}px`};de(n);const C=i(()=>({resize:"none",height:typeof c.value=="string"?c.value:c.value?`${c.value}px`:void 0}));return{onInput:n,computedStyles:C,computedRows:_}},Se=["id","name","form","value","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"],ze=A({__name:"BFormTextarea",props:P({noResize:{type:Boolean,default:!1},rows:{default:2},wrap:{default:"soft"},noAutoShrink:{type:Boolean,default:!1},maxRows:{default:void 0},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(l,{expose:e}){const a=G(l,"BFormTextarea"),[c,p]=j(l,"modelValue",{set:k=>ve(k,p)}),m=W("_input"),{computedId:d,forceUpdateKey:f,computedAriaInvalid:_,onInput:n,stateClass:C,onChange:v,onBlur:h,focus:x,blur:s}=be(a,m,c,p),I=i(()=>[C.value,a.plaintext?"form-control-plaintext":"form-control",{[`form-control-${a.size}`]:!!a.size}]),{computedStyles:F,onInput:w,computedRows:N}=Ne(m,{maxRows:()=>a.maxRows,rows:()=>a.rows,noAutoShrink:()=>a.noAutoShrink}),S=i(()=>({resize:a.noResize?"none":void 0,...a.maxRows||a.noAutoShrink?F.value:void 0}));return e({blur:s,element:m,focus:x}),(k,g)=>(y(),q("textarea",{id:t(d),ref:"_input",key:t(f),class:H(I.value),name:t(a).name||void 0,form:t(a).form||void 0,value:t(c)??void 0,disabled:t(a).disabled,placeholder:t(a).placeholder,required:t(a).required||void 0,autocomplete:t(a).autocomplete||void 0,readonly:t(a).readonly||t(a).plaintext,"aria-required":t(a).required||void 0,"aria-invalid":t(_),rows:t(N)||2,style:re(S.value),wrap:t(a).wrap||void 0,onInput:g[0]||(g[0]=b=>{t(n)(b),t(w)()}),onChange:g[1]||(g[1]=(...b)=>t(v)&&t(v)(...b)),onBlur:g[2]||(g[2]=(...b)=>t(h)&&t(h)(...b))},null,46,Se))}}),qe={key:0,class:"input-group-text"},Me={key:0,class:"input-group-text"},Re=A({__name:"BInputGroup",props:{append:{default:void 0},id:{default:void 0},prepend:{default:void 0},size:{default:"md"},tag:{default:"div"}},setup(l){pe(me,!0);const o=G(l,"BInputGroup"),a=i(()=>({[`input-group-${o.size}`]:o.size!=="md"})),c=i(()=>!!o.append),p=i(()=>!!o.prepend);return(m,d)=>(y(),$(K(t(o).tag),{id:t(o).id,class:H(["input-group",a.value]),role:"group"},{default:r(()=>[z(m.$slots,"prepend",{},()=>[p.value?(y(),q("span",qe,[V("span",null,D(t(o).prepend),1)])):T("",!0)]),z(m.$slots,"default"),z(m.$slots,"append",{},()=>[c.value?(y(),q("span",Me,[V("span",null,D(t(o).append),1)])):T("",!0)])]),_:3},8,["id","class"]))}}),Te=A({__name:"BInputGroupText",props:{tag:{default:"div"},text:{default:void 0}},setup(l){const o=G(l,"BInputGroupText");return(a,c)=>(y(),$(K(t(o).tag),{class:"input-group-text"},{default:r(()=>[z(a.$slots,"default",{},()=>[U(D(t(o).text),1)])]),_:3}))}}),Ae={name:"CourseForm",components:{BForm:ye,BRow:Be,BCol:_e,BFormGroup:ge,BFormInput:he,BFormTextarea:ze,BFormCheckbox:Ve,BInputGroup:Re,BInputGroupText:Te},props:{course:{type:Object,required:!0}},emits:["update-course"],methods:{updateField(l,e){console.log(`[CourseForm] updateField called -> ${l}:`,e);const o={...this.course,[l]:e};this.$emit("update-course",o),console.log("[CourseForm] emitted updatedCourse:",o)},updateNumber(l,e){const o=e===""||e===null||e===void 0?null:Number(e);console.log(`[CourseForm] updateNumber called -> ${l}:`,o);const a={...this.course,[l]:o};this.$emit("update-course",a),console.log("[CourseForm] emitted updatedCourse:",a)},updateBoolean(l,e){const o=!!e;console.log(`[CourseForm] updateBoolean called -> ${l}:`,o);const a={...this.course,[l]:o};this.$emit("update-course",a),console.log("[CourseForm] emitted updatedCourse:",a)},handleImageError(l){console.warn("[CourseForm] handleImageError: Failed to load image",l.target.src),l.target.style.display="none"}}},Ge={key:0,class:"text-center mt-3"},$e=["src","alt"];function je(l,e,o,a,c,p){const m=B("BFormInput"),d=B("BFormGroup"),f=B("BCol"),_=B("BRow"),n=B("BFormTextarea"),C=B("BInputGroupText"),v=B("BInputGroup"),h=B("BFormCheckbox"),x=B("BForm");return y(),$(x,null,{default:r(()=>[u(_,null,{default:r(()=>[u(f,{md:"6"},{default:r(()=>[u(d,{label:"Código del Curso:","label-for":"codigo"},{default:r(()=>[u(m,{id:"codigo","model-value":o.course.codigo,"onUpdate:modelValue":e[0]||(e[0]=s=>p.updateField("codigo",s)),placeholder:"ej: 0001",required:""},null,8,["model-value"])]),_:1})]),_:1}),u(f,{md:"6"},{default:r(()=>[u(d,{label:"Nombre del Curso:","label-for":"nombre"},{default:r(()=>[u(m,{id:"nombre","model-value":o.course.nombre,"onUpdate:modelValue":e[1]||(e[1]=s=>p.updateField("nombre",s)),placeholder:"ej: HTML",required:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),u(d,{label:"Descripción:","label-for":"descripcion"},{default:r(()=>[u(n,{id:"descripcion","model-value":o.course.descripcion,"onUpdate:modelValue":e[2]||(e[2]=s=>p.updateField("descripcion",s)),placeholder:"Describe el curso...",rows:"3",required:""},null,8,["model-value"])]),_:1}),u(_,null,{default:r(()=>[u(f,{md:"4"},{default:r(()=>[u(d,{label:"Precio:","label-for":"precio"},{default:r(()=>[u(v,null,{default:r(()=>[u(C,null,{default:r(()=>[...e[10]||(e[10]=[U("$",-1)])]),_:1}),u(m,{id:"precio",type:"number","model-value":o.course.precio,"onUpdate:modelValue":e[3]||(e[3]=s=>p.updateNumber("precio",s)),placeholder:"30000",min:"0",step:"1000",required:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),u(f,{md:"4"},{default:r(()=>[u(d,{label:"Duración:","label-for":"duracion"},{default:r(()=>[u(m,{id:"duracion","model-value":o.course.duracion,"onUpdate:modelValue":e[4]||(e[4]=s=>p.updateField("duracion",s)),placeholder:"ej: 1 mes",required:""},null,8,["model-value"])]),_:1})]),_:1}),u(f,{md:"4"},{default:r(()=>[u(d,{label:"Cupos:","label-for":"cupos"},{default:r(()=>[u(m,{id:"cupos",type:"number","model-value":o.course.cupos,"onUpdate:modelValue":e[5]||(e[5]=s=>p.updateNumber("cupos",s)),placeholder:"10",min:"1",required:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),u(_,null,{default:r(()=>[u(f,{md:"6"},{default:r(()=>[u(d,{label:"Inscritos:","label-for":"inscritos"},{default:r(()=>[u(m,{id:"inscritos",type:"number","model-value":o.course.inscritos,"onUpdate:modelValue":e[6]||(e[6]=s=>p.updateNumber("inscritos",s)),placeholder:"0",min:"0"},null,8,["model-value"])]),_:1})]),_:1}),u(f,{md:"6"},{default:r(()=>[u(d,{label:"Estado:","label-for":"estado"},{default:r(()=>[u(h,{id:"estado",checked:!!o.course.estado,"onUpdate:checked":e[7]||(e[7]=s=>p.updateBoolean("estado",s))},{default:r(()=>[...e[11]||(e[11]=[U(" Curso activo ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1}),u(d,{label:"URL de la Imagen:","label-for":"img"},{default:r(()=>[u(m,{id:"img",type:"url","model-value":o.course.img,"onUpdate:modelValue":e[8]||(e[8]=s=>p.updateField("img",s)),placeholder:"https://ejemplo.com/imagen.png",required:""},null,8,["model-value"])]),_:1}),o.course.img?(y(),q("div",Ge,[e[12]||(e[12]=V("p",{class:"mb-2"},[V("strong",null,"Vista previa:")],-1)),V("img",{src:o.course.img,alt:o.course.nombre,style:{"max-width":"200px","max-height":"150px","object-fit":"contain"},class:"img-thumbnail",onError:e[9]||(e[9]=(...s)=>p.handleImageError&&p.handleImageError(...s))},null,40,$e)])):T("",!0)]),_:1})}const Ee=ce(Ae,[["render",je],["__scopeId","data-v-88d07b4f"]]);export{Ee as C,Ve as _};
