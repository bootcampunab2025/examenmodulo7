import{_ as L,u as D}from"./courses-BqikZZxM.js";import{d as O,u as T,a as A,c as C,_ as E,b as F,e as y,o as i,w as f,f as m,m as k,g as d,r as V,h as $,i as c,t as n,j as N,k as v,l as o,n as P,p as S,q as j,s as p,v as b,F as h,x as I,y as q}from"./index-X-bycsv7.js";import{_ as M,a as z,b as R,c as U,d as W}from"./BCard.vue_vue_type_script_setup_true_lang-BAaV9t2h-BU-rssmR.js";const G=O({__name:"BBadge",props:{dotIndicator:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},placement:{default:void 0},tag:{default:"span"},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:"secondary"},bgVariant:{default:null},textVariant:{default:null}},setup(u){const t=T(u,"BBadge"),{computedLink:a,computedLinkProps:_}=A(t,["active","activeClass","append","disabled","href","rel","replace","routerComponentName","target","to","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon"]),g=C(()=>a.value?E:t.tag),B=C(()=>{const r=t.placement??(t.dotIndicator?"top-end":void 0);return["position-absolute","translate-middle",{"start-0 top-0":r==="top-start","start-0 top-50":r==="start","start-0 top-100":r==="bottom-start","start-50 top-0":r==="top","start-50 top-100":r==="bottom","start-100 top-0":r==="top-end","start-100 top-50":r==="end","start-100 top-100":r==="bottom-end"}]}),s=F(t),l=C(()=>[s.value,t.placement!==void 0||t.dotIndicator===!0?B.value:void 0,{active:t.active,disabled:t.disabled,"rounded-pill":t.pill,"p-2 border border-light rounded-circle":t.dotIndicator,"text-decoration-none":a.value}]);return(r,x)=>(i(),y($(g.value),k({class:["badge",l.value]},d(_)),{default:f(()=>[m(L,k({skip:d(t).dotIndicator!==!0,tag:"span"},d(t).dotIndicator?{class:"visually-hidden"}:{}),{default:f(()=>[V(r.$slots,"default")]),_:3},16,["skip"])]),_:3},16,["class"]))}}),J=O({__name:"BCardText",props:{tag:{default:"p"},text:{default:void 0}},setup(u){const t=T(u,"BCardText");return(a,_)=>(i(),y($(d(t).tag),{class:"card-text"},{default:f(()=>[V(a.$slots,"default",{},()=>[c(n(d(t).text),1)])]),_:3}))}}),K={name:"CourseCard",components:{BCard:W,BCardImg:U,BCardBody:R,BCardTitle:z,BCardText:J,BBadge:G,BProgressBar:M},props:{course:{type:Object,required:!0}},setup(u){return{inscriptionPercentage:C(()=>u.course.cupos===0?0:Math.round(u.course.inscritos/u.course.cupos*100)),formatPrice:a=>new Intl.NumberFormat("es-CL",{style:"decimal",minimumFractionDigits:0}).format(a)}}},Q={class:"mt-auto"},X={class:"text-muted"};function Y(u,e,t,a,_,g){const B=v("BCardImg"),s=v("BCardTitle"),l=v("BCardText"),r=v("BBadge"),x=v("BProgressBar"),H=v("BCardBody"),w=v("BCard");return i(),y(w,{class:"course-card h-100"},{default:f(()=>[m(B,{src:t.course.img,alt:t.course.nombre,top:"",class:"course-image"},null,8,["src","alt"]),m(H,{class:"d-flex flex-column"},{default:f(()=>[m(s,null,{default:f(()=>[c(n(t.course.nombre),1)]),_:1}),m(l,{class:"flex-grow-1"},{default:f(()=>[e[0]||(e[0]=o("strong",null,"C贸digo:",-1)),c(" "+n(t.course.codigo),1),e[1]||(e[1]=o("br",null,null,-1)),e[2]||(e[2]=o("strong",null,"Descripci贸n:",-1)),c(" "+n(t.course.descripcion),1),e[3]||(e[3]=o("br",null,null,-1)),e[4]||(e[4]=o("strong",null,"Duraci贸n:",-1)),c(" "+n(t.course.duracion),1),e[5]||(e[5]=o("br",null,null,-1)),e[6]||(e[6]=o("strong",null,"Precio:",-1)),c(" $"+n(a.formatPrice(t.course.precio)),1),e[7]||(e[7]=o("br",null,null,-1)),e[8]||(e[8]=o("strong",null,"Cupos:",-1)),c(" "+n(t.course.cupos),1),e[9]||(e[9]=o("br",null,null,-1)),e[10]||(e[10]=o("strong",null,"Inscritos:",-1)),c(" "+n(t.course.inscritos),1)]),_:1}),o("div",Q,[m(r,{variant:t.course.estado?"success":"secondary",class:"mb-2"},{default:f(()=>[c(n(t.course.estado?"Activo":"Inactivo"),1)]),_:1},8,["variant"]),m(x,{value:a.inscriptionPercentage,max:100,class:"mb-2",height:"8px"},null,8,["value"]),o("small",X,n(a.inscriptionPercentage)+"% de cupos ocupados ",1)])]),_:1})]),_:1})}const Z=N(K,[["render",Y],["__scopeId","data-v-23c60743"]]),ee={class:"home-container"},te={class:"content-wrapper"},oe={key:0,class:"loading-section"},se={key:1,class:"error-section"},ae={class:"error-content"},re={key:2},ne={class:"filters-section"},le={class:"filters-container"},ie={class:"filter-buttons"},de=["onClick"],ue={key:0,class:"courses-grid"},ce={key:1,class:"no-courses-section"},pe={class:"no-courses-content"},fe={class:"no-courses-text"},ve={__name:"HomeView",setup(u){const e=D(),t=P("all"),a=P(null),_=[{text:"Todos",value:"all"},{text:"Solo Activos",value:"active"}],g=C(()=>t.value==="active"?e.activeCourses:e.allCourses);return S(()=>{a.value=e.initCoursesListener()}),j(()=>{a.value&&a.value()}),(B,s)=>(i(),p("div",ee,[s[5]||(s[5]=o("div",{class:"hero-section"},[o("div",{class:"hero-content"},[o("h1",{class:"hero-title"},"Bienvenido a AdWeb Online"),o("p",{class:"hero-subtitle"}," Plataforma de cursos de programaci贸n y desarrollo web ")])],-1)),o("div",te,[d(e).isLoading?(i(),p("div",oe,[...s[1]||(s[1]=[o("div",{class:"loading-spinner-large"},null,-1),o("p",{class:"loading-text"},"Cargando cursos...",-1)])])):b("",!0),d(e).getError?(i(),p("div",se,[o("div",ae,[o("div",null,[s[2]||(s[2]=o("h4",null,"Error al cargar los cursos",-1)),o("p",null,n(d(e).getError),1)])])])):b("",!0),!d(e).isLoading&&!d(e).getError?(i(),p("div",re,[o("div",ne,[o("div",le,[s[3]||(s[3]=o("h3",{class:"filters-title"}," Filtrar cursos: ",-1)),o("div",ie,[(i(),p(h,null,I(_,l=>o("button",{key:l.value,class:q(["filter-btn",{active:t.value===l.value}]),onClick:r=>t.value=l.value},n(l.text),11,de)),64))])])]),g.value.length>0?(i(),p("div",ue,[(i(!0),p(h,null,I(g.value,l=>(i(),y(Z,{key:l.id,course:l},null,8,["course"]))),128))])):(i(),p("div",ce,[o("div",pe,[s[4]||(s[4]=o("h4",{class:"no-courses-title"},"No hay cursos disponibles",-1)),o("p",fe,n(t.value==="active"?"No hay cursos activos en este momento.":"No se encontraron cursos."),1),o("button",{class:"add-course-btn",onClick:s[0]||(s[0]=l=>B.$router.push("/admin"))}," Agregar Cursos ")])]))])):b("",!0)])]))}},Be=N(ve,[["__scopeId","data-v-258155a8"]]);export{Be as default};
